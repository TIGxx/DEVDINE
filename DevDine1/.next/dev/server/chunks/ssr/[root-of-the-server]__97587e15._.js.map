{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///C:/Devdinev1/lib/cart-store.ts"],"sourcesContent":["\"use client\"\n\nimport type { CartItem, MenuItem } from \"./types\"\n\nexport class CartStore {\n  private static STORAGE_KEY = \"devdine_cart\"\n\n  static getCart(): CartItem[] {\n    if (typeof window === \"undefined\") return []\n    const stored = localStorage.getItem(this.STORAGE_KEY)\n    return stored ? JSON.parse(stored) : []\n  }\n\n  static addItem(item: MenuItem): void {\n    const cart = this.getCart()\n    const existingIndex = cart.findIndex((i) => i.id === item.id)\n\n    if (existingIndex >= 0) {\n      cart[existingIndex].quantity += 1\n    } else {\n      cart.push({ ...item, quantity: 1 })\n    }\n\n    localStorage.setItem(this.STORAGE_KEY, JSON.stringify(cart))\n    window.dispatchEvent(new Event(\"cart-updated\"))\n  }\n\n  static removeItem(itemId: string): void {\n    const cart = this.getCart()\n    const filtered = cart.filter((i) => i.id !== itemId)\n    localStorage.setItem(this.STORAGE_KEY, JSON.stringify(filtered))\n    window.dispatchEvent(new Event(\"cart-updated\"))\n  }\n\n  static updateQuantity(itemId: string, quantity: number): void {\n    const cart = this.getCart()\n    const item = cart.find((i) => i.id === itemId)\n\n    if (item) {\n      if (quantity <= 0) {\n        this.removeItem(itemId)\n      } else {\n        item.quantity = quantity\n        localStorage.setItem(this.STORAGE_KEY, JSON.stringify(cart))\n        window.dispatchEvent(new Event(\"cart-updated\"))\n      }\n    }\n  }\n\n  static clearCart(): void {\n    localStorage.removeItem(this.STORAGE_KEY)\n    window.dispatchEvent(new Event(\"cart-updated\"))\n  }\n\n  static getTotal(): number {\n    const cart = this.getCart()\n    return cart.reduce((sum, item) => sum + item.price * item.quantity, 0)\n  }\n\n  static getItemCount(): number {\n    const cart = this.getCart()\n    return cart.reduce((sum, item) => sum + item.quantity, 0)\n  }\n}\n"],"names":[],"mappings":";;;;AAAA;AAIO,MAAM;IACX,OAAe,cAAc,eAAc;IAE3C,OAAO,UAAsB;QAC3B,wCAAmC,OAAO,EAAE;;;QAC5C,MAAM;IAER;IAEA,OAAO,QAAQ,IAAc,EAAQ;QACnC,MAAM,OAAO,IAAI,CAAC,OAAO;QACzB,MAAM,gBAAgB,KAAK,SAAS,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK,KAAK,EAAE;QAE5D,IAAI,iBAAiB,GAAG;YACtB,IAAI,CAAC,cAAc,CAAC,QAAQ,IAAI;QAClC,OAAO;YACL,KAAK,IAAI,CAAC;gBAAE,GAAG,IAAI;gBAAE,UAAU;YAAE;QACnC;QAEA,aAAa,OAAO,CAAC,IAAI,CAAC,WAAW,EAAE,KAAK,SAAS,CAAC;QACtD,OAAO,aAAa,CAAC,IAAI,MAAM;IACjC;IAEA,OAAO,WAAW,MAAc,EAAQ;QACtC,MAAM,OAAO,IAAI,CAAC,OAAO;QACzB,MAAM,WAAW,KAAK,MAAM,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK;QAC7C,aAAa,OAAO,CAAC,IAAI,CAAC,WAAW,EAAE,KAAK,SAAS,CAAC;QACtD,OAAO,aAAa,CAAC,IAAI,MAAM;IACjC;IAEA,OAAO,eAAe,MAAc,EAAE,QAAgB,EAAQ;QAC5D,MAAM,OAAO,IAAI,CAAC,OAAO;QACzB,MAAM,OAAO,KAAK,IAAI,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK;QAEvC,IAAI,MAAM;YACR,IAAI,YAAY,GAAG;gBACjB,IAAI,CAAC,UAAU,CAAC;YAClB,OAAO;gBACL,KAAK,QAAQ,GAAG;gBAChB,aAAa,OAAO,CAAC,IAAI,CAAC,WAAW,EAAE,KAAK,SAAS,CAAC;gBACtD,OAAO,aAAa,CAAC,IAAI,MAAM;YACjC;QACF;IACF;IAEA,OAAO,YAAkB;QACvB,aAAa,UAAU,CAAC,IAAI,CAAC,WAAW;QACxC,OAAO,aAAa,CAAC,IAAI,MAAM;IACjC;IAEA,OAAO,WAAmB;QACxB,MAAM,OAAO,IAAI,CAAC,OAAO;QACzB,OAAO,KAAK,MAAM,CAAC,CAAC,KAAK,OAAS,MAAM,KAAK,KAAK,GAAG,KAAK,QAAQ,EAAE;IACtE;IAEA,OAAO,eAAuB;QAC5B,MAAM,OAAO,IAAI,CAAC,OAAO;QACzB,OAAO,KAAK,MAAM,CAAC,CAAC,KAAK,OAAS,MAAM,KAAK,QAAQ,EAAE;IACzD;AACF","debugId":null}},
    {"offset": {"line": 91, "column": 0}, "map": {"version":3,"sources":["file:///C:/Devdinev1/app/checkout/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { useRouter } from \"next/navigation\"\nimport Image from \"next/image\"\nimport { CartStore } from \"@/lib/cart-store\"\nimport type { CartItem } from \"@/lib/types\"\n\nexport default function CheckoutPage() {\n  const router = useRouter()\n  const [cartItems, setCartItems] = useState<CartItem[]>([])\n  const [total, setTotal] = useState(0)\n  const [paymentMethod, setPaymentMethod] = useState(\"\")\n  const [isProcessing, setIsProcessing] = useState(false)\n  const [error, setError] = useState(\"\")\n\n  useEffect(() => {\n    const items = CartStore.getCart()\n    const totalAmount = CartStore.getTotal()\n\n    if (items.length === 0) {\n      router.push(\"/menu\")\n      return\n    }\n\n    setCartItems(items)\n    setTotal(totalAmount)\n  }, [router])\n\n  const handleCheckout = async () => {\n    if (!paymentMethod) {\n      setError(\"Please select a payment method\")\n      return\n    }\n\n    setIsProcessing(true)\n    setError(\"\")\n\n    try {\n      const customerInfo = localStorage.getItem(\"customerInfo\")\n      const orderType = localStorage.getItem(\"orderType\")\n\n      if (!customerInfo || !orderType) {\n        throw new Error(\"Missing customer information\")\n      }\n\n      const { name, email } = JSON.parse(customerInfo)\n\n      const response = await fetch(\"/api/orders\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          customerName: name,\n          customerEmail: email,\n          orderType: orderType,\n          paymentMethod: paymentMethod,\n          items: cartItems,\n          totalAmount: total,\n        }),\n      })\n\n      const data = await response.json()\n\n      if (!response.ok) {\n        throw new Error(data.error || \"Failed to create order\")\n      }\n\n      console.log(\"[v0] Order created successfully:\", data.orderId)\n\n      // Clear cart\n      CartStore.clearCart()\n\n      // Redirect to bill page\n      router.push(`/bill/${data.orderId}`)\n    } catch (err) {\n      console.error(\"[v0] Checkout error:\", err)\n      setError(err instanceof Error ? err.message : \"Failed to process order\")\n      setIsProcessing(false)\n    }\n  }\n\n  return (\n    <div className=\"min-h-screen bg-[#FFF8E7]\">\n      {/* Header */}\n      <header className=\"bg-[#FFF8E7] border-b border-gray-200\">\n        <div className=\"flex items-center justify-between px-4 py-3\">\n          <div className=\"flex items-center gap-3\">\n            <Image\n              src=\"https://hebbkx1anhila5yf.public.blob.vercel-storage.com/logo-IVXQ4JWg3zR7d7S15IXHAR5pXgOXre.png\"\n              alt=\"DEVDINE Logo\"\n              width={48}\n              height={48}\n              className=\"rounded-full object-cover\"\n            />\n            <h1 className=\"text-2xl font-bold text-gray-900\">Checkout</h1>\n          </div>\n          <button onClick={() => router.push(\"/cart\")} className=\"text-gray-700 hover:text-gray-900\">\n            <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 19l-7-7 7-7\" />\n            </svg>\n          </button>\n        </div>\n      </header>\n\n      <main className=\"px-4 py-6 pb-32 max-w-2xl mx-auto\">\n        {/* Order Summary */}\n        <div className=\"bg-white rounded-2xl p-6 shadow-sm mb-6\">\n          <h2 className=\"text-xl font-bold text-gray-900 mb-4\">Order Summary</h2>\n          <div className=\"space-y-3\">\n            {cartItems.map((item) => (\n              <div key={item.id} className=\"flex justify-between items-center\">\n                <div className=\"flex-1\">\n                  <p className=\"font-semibold text-gray-900\">{item.name}</p>\n                  <p className=\"text-sm text-gray-600\">\n                    {item.price} B Ã— {item.quantity}\n                  </p>\n                </div>\n                <p className=\"font-semibold text-gray-900\">{(item.price * item.quantity).toFixed(2)} B</p>\n              </div>\n            ))}\n          </div>\n          <div className=\"border-t border-gray-200 mt-4 pt-4 flex justify-between items-center\">\n            <span className=\"text-lg font-bold text-gray-900\">Total:</span>\n            <span className=\"text-2xl font-bold text-[#C41E3A]\">{total.toFixed(2)} B</span>\n          </div>\n        </div>\n\n        {/* Payment Method Selection */}\n        <div className=\"bg-white rounded-2xl p-6 shadow-sm\">\n          <h2 className=\"text-xl font-bold text-gray-900 mb-4\">Payment Method</h2>\n          <div className=\"space-y-3\">\n            {[\n              { id: \"cash\", label: \"Cash\", icon: \"ðŸ’µ\" },\n              { id: \"credit-card\", label: \"Credit Card\", icon: \"ðŸ’³\" },\n              { id: \"mobile-banking\", label: \"Mobile Banking\", icon: \"ðŸ“±\" },\n              { id: \"qr-code\", label: \"QR Code\", icon: \"ðŸ“²\" },\n            ].map((method) => (\n              <button\n                key={method.id}\n                onClick={() => setPaymentMethod(method.id)}\n                className={`w-full flex items-center gap-4 p-4 rounded-xl border-2 transition-all ${\n                  paymentMethod === method.id\n                    ? \"border-[#C41E3A] bg-[#C41E3A]/5\"\n                    : \"border-gray-200 hover:border-gray-300\"\n                }`}\n              >\n                <span className=\"text-3xl\">{method.icon}</span>\n                <span className=\"flex-1 text-left font-semibold text-gray-900\">{method.label}</span>\n                {paymentMethod === method.id && (\n                  <svg className=\"w-6 h-6 text-[#C41E3A]\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                    <path\n                      fillRule=\"evenodd\"\n                      d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\"\n                      clipRule=\"evenodd\"\n                    />\n                  </svg>\n                )}\n              </button>\n            ))}\n          </div>\n\n          {error && <p className=\"text-red-600 text-sm mt-4 text-center\">{error}</p>}\n        </div>\n      </main>\n\n      {/* Bottom Bar */}\n      <div className=\"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4\">\n        <button\n          onClick={handleCheckout}\n          disabled={isProcessing || !paymentMethod}\n          className=\"w-full bg-[#C41E3A] hover:bg-[#A01828] text-white font-bold py-3 rounded-full transition-colors shadow-lg disabled:opacity-50 disabled:cursor-not-allowed\"\n        >\n          {isProcessing ? \"Processing...\" : \"Confirm Order\"}\n        </button>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}