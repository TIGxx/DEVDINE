{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":["file:///C:/Devdinev1/lib/mongodb.ts"],"sourcesContent":["import { MongoClient } from \"mongodb\"\r\n\r\nconst mongoUri = process.env.MONGODB_URI || \"mongodb://localhost:27017\"\r\nconst dbName = process.env.MONGODB_DB_NAME || \"devdine\"\r\n\r\nlet cachedClient: MongoClient | null = null\r\nlet cachedDb: any = null\r\n\r\nexport async function connectToDatabase() {\r\n  if (cachedClient && cachedDb) {\r\n    return { client: cachedClient, db: cachedDb }\r\n  }\r\n\r\n  const client = new MongoClient(mongoUri)\r\n  await client.connect()\r\n\r\n  const db = client.db(dbName)\r\n  cachedClient = client\r\n  cachedDb = db\r\n\r\n  return { client, db }\r\n}\r\n\r\nexport async function closeDatabase() {\r\n  if (cachedClient) {\r\n    await cachedClient.close()\r\n    cachedClient = null\r\n    cachedDb = null\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;;;AAAA;;AAEA,MAAM,WAAW,QAAQ,GAAG,CAAC,WAAW,IAAI;AAC5C,MAAM,SAAS,QAAQ,GAAG,CAAC,eAAe,IAAI;AAE9C,IAAI,eAAmC;AACvC,IAAI,WAAgB;AAEb,eAAe;IACpB,IAAI,gBAAgB,UAAU;QAC5B,OAAO;YAAE,QAAQ;YAAc,IAAI;QAAS;IAC9C;IAEA,MAAM,SAAS,IAAI,sHAAW,CAAC;IAC/B,MAAM,OAAO,OAAO;IAEpB,MAAM,KAAK,OAAO,EAAE,CAAC;IACrB,eAAe;IACf,WAAW;IAEX,OAAO;QAAE;QAAQ;IAAG;AACtB;AAEO,eAAe;IACpB,IAAI,cAAc;QAChB,MAAM,aAAa,KAAK;QACxB,eAAe;QACf,WAAW;IACb;AACF","debugId":null}},
    {"offset": {"line": 92, "column": 0}, "map": {"version":3,"sources":["file:///C:/Devdinev1/app/api/users/route.ts"],"sourcesContent":["import { NextResponse } from \"next/server\"\r\nimport type { NextRequest } from \"next/server\"\r\nimport { connectToDatabase } from \"@/lib/mongodb\"\r\n\r\nexport async function POST(request: NextRequest) {\r\n  try {\r\n    const { name, email } = await request.json()\r\n\r\n    if (!name || !email) {\r\n      return NextResponse.json({ error: \"Missing name or email\" }, { status: 400 })\r\n    }\r\n\r\n    const { db } = await connectToDatabase()\r\n\r\n    const users = db.collection(\"users\")\r\n\r\n    const existing = await users.findOne({ email })\r\n    if (existing) {\r\n      // Optionally update name if changed\r\n      await users.updateOne({ email }, { $set: { name, updatedAt: new Date() } })\r\n      return NextResponse.json({ success: true, message: \"User updated\" })\r\n    }\r\n\r\n    const result = await users.insertOne({ name, email, createdAt: new Date() })\r\n\r\n    return NextResponse.json({ success: true, id: result.insertedId })\r\n  } catch (err) {\r\n    console.error(\"[v0] Error saving user:\", err)\r\n    return NextResponse.json({ error: \"Failed to save user\" }, { status: 500 })\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AAEA;;;AAEO,eAAe,KAAK,OAAoB;IAC7C,IAAI;QACF,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,QAAQ,IAAI;QAE1C,IAAI,CAAC,QAAQ,CAAC,OAAO;YACnB,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAwB,GAAG;gBAAE,QAAQ;YAAI;QAC7E;QAEA,MAAM,EAAE,EAAE,EAAE,GAAG,MAAM,IAAA,qIAAiB;QAEtC,MAAM,QAAQ,GAAG,UAAU,CAAC;QAE5B,MAAM,WAAW,MAAM,MAAM,OAAO,CAAC;YAAE;QAAM;QAC7C,IAAI,UAAU;YACZ,oCAAoC;YACpC,MAAM,MAAM,SAAS,CAAC;gBAAE;YAAM,GAAG;gBAAE,MAAM;oBAAE;oBAAM,WAAW,IAAI;gBAAO;YAAE;YACzE,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,SAAS;gBAAM,SAAS;YAAe;QACpE;QAEA,MAAM,SAAS,MAAM,MAAM,SAAS,CAAC;YAAE;YAAM;YAAO,WAAW,IAAI;QAAO;QAE1E,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,SAAS;YAAM,IAAI,OAAO,UAAU;QAAC;IAClE,EAAE,OAAO,KAAK;QACZ,QAAQ,KAAK,CAAC,2BAA2B;QACzC,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAsB,GAAG;YAAE,QAAQ;QAAI;IAC3E;AACF","debugId":null}}]
}